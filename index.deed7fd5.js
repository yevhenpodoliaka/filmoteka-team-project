!function(){function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},o={},a=n.parcelRequire3143;null==a&&((a=function(e){if(e in i)return i[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},n.parcelRequire3143=a),a.register("iE7OH",(function(t,n){var i,o;e(t.exports,"register",(function(){return i}),(function(e){return i=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var a={};i=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},o=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a.register("aNJCr",(function(t,n){var i;e(t.exports,"getBundleURL",(function(){return i}),(function(e){return i=e}));var o={};function a(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}i=function(e){var t=o[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),o[e]=t),t}})),a("iE7OH").register(JSON.parse('{"EVgbq":"index.deed7fd5.js","ee16w":"sprite.7c4e9067.svg","jEEqz":"no-poster.0fbddd47.jpg","2WXp7":"empty-library-placeholder.5ed483fb.png","iiLus":"Vitaliy-desk-1x.3510baed.jpg","emfiV":"Natalia-desk-1x.9cadc779.jpg","bERqi":"Dima-desk-1x.756492e8.jpg","7jpbb":"Viktoriya-desk-1x.d8f286cf.jpg","ddqV1":"Ihor-desk-1x.128e444c.jpg","fto5N":"Samvel-desk-1x.52d6e078.jpg","kyKx7":"Yevhen-desk-1x.ad9b2d15.jpg","8Lcim":"Oleksandr-desk-1x.fa79260a.jpg","5UbS1":"index.f5339a9d.css"}'));var s;s=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("ee16w");const r="b6201d5209ec246f483ea16253167a90";class c{async fetchMoviesByFilters(){const e=`https://api.themoviedb.org/3/discover/movie?api_key=${r}&language=en-US&primary_release_year=${this.year}&with_genres=${this.genre}&page=${this.page}`,t=await fetch(e);return await t.json()}async fetchGenres(){const e=`https://api.themoviedb.org/3/genre/movie/list?api_key=${r}&language=en-US`,t=await fetch(e);return await t.json()}async fetchTrending(){const e=`https://api.themoviedb.org/3/trending/movie/day?api_key=${r}&page=${this.page}`,t=await fetch(e);return await t.json()}async fetchSearchMovie(){const e=`https://api.themoviedb.org/3/search/movie?api_key=${r}&language=en-US&query=${this.searchQuery}&page=${this.page}&include_adult=false`,t=await fetch(e);return await t.json()}async fetchMovieDetails(e){const t=`https://api.themoviedb.org/3/movie/${e}?api_key=${r}&language=en-US`,n=await fetch(t);return await n.json()}async searchTrailerById(e){const t=`https://api.themoviedb.org/3/movie/${e}/videos?api_key=${r}&language=en-US`,n=await fetch(t);return(await n.json()).results.find((e=>e.name.includes("Official"))).key}incrementPage(){this.page+=1}decrementPage(){this.page-=1}get pageNumber(){return this.page}set pageNumber(e){this.page=e}resetPage(){this.page=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}get movieId(){return this.searchId}set movieId(e){this.searchId=e}get yearFilter(){return this.year}set yearFilter(e){this.year=e}get genreIdFilter(){return this.genre}set genreIdFilter(e){this.genre=e}constructor(){this.searchQuery="",this.page=1,this.searchId="",this.genre="",this.year=""}}var l;function u(e,n){return e.map((({poster_path:e,original_title:i,genre_ids:o,release_date:a,vote_average:s,id:r})=>{const c=e?`https://image.tmdb.org/t/p/w500/${e}`:`${t(l)}`,u=a?new Date(a).getFullYear():"N/A",d=o?o.slice(0,2).map((e=>n.get(e))):["Others"];o&&o.length>2&&d.push("Others");return`<li class="gallery__item card" data-id="${r}">\n          <img\n            class="card__image"\n            src=${c}\n            alt="poster"\n            loading="lazy"\n          />\n          <div class="card__info" >\n            <p class="card__title">${i}</p>\n            <div class="card__movie-info">\n              <p class="card__genre">${d.join(", ")}</p>\n              <span class="vertical">&nbsp|&nbsp</span>\n              <p class="card__release">${u}</p>\n              <p class="card__rating">${void 0!==s?s.toFixed(1):"N/A"}</p>\n            </div>\n          </div>\n      </li>`})).join("")}function d(e,n){const i=`<li class="item">\n                      <button class="pagination__arrow pagination__arrow-left" id='previous'>\n                        <svg class="pagination-arrow-icon" >\n                          <use href="${t(s)}#icon-arrow-left"></use>\n                        </svg>\n                      </button>\n                    </li>`,o=`<li class="item">\n                      <button class="pagination__arrow pagination__arrow-right" id='next'>\n                        <svg class="pagination-arrow-icon">\n                          <use href="${t(s)}#icon-arrow-right" ></use>\n                        </svg>\n                      </button>\n                    </li>`,a='<li class="item">\n                          <button class="pagination__btn">1</button>\n                        </li>',r='<li class="item">\n                    <button class="pagination-btn-more">...</button>\n                  </li>',c=`<li class="item">\n                        <button class="pagination__btn pagination__btn--choice">${e}</button>\n                      </li>`,l=`<li class="item">\n                    <button class="pagination__btn">${n}</button>\n                  </li>`,u=[],d=window.matchMedia("(max-width:768px)").matches;if(u.push('<ul class="pagination-list">'),1===n)return"";e>1&&u.push(i),e>1&&!d&&u.push(a),e>1&&e<4&&d&&u.push(a),e>4&&!d&&u.push(r);for(let t=e-2;t<e+3;t+=1)t!==e?t>1&&t<=n-1&&u.push(`<li class="item">\n                    <button class="pagination__btn">${t}</button>\n                  </li>`):u.push(c);e<n-3&&!d&&u.push(r),e>n-3&&e<n&&d&&u.push(l),e<n&&!d&&u.push(l),e<n&&u.push(o),u.push("</ul>");return u.join("")}function m(){const e=location.href,t=new URL(e);return{reset:function(){t.searchParams.delete("page"),t.searchParams.delete("query"),t.searchParams.delete("with_genres"),t.searchParams.delete("primary_release_year"),history.pushState({},"",`${t}`)},goToSearch:function(e){t.searchParams.delete("page"),t.searchParams.delete("with_genres"),t.searchParams.delete("primary_release_year"),t.searchParams.set("query",e),history.pushState({},"",`${t}`)},goToFilter:function(e,n){t.searchParams.delete("page"),t.searchParams.delete("query"),t.searchParams.set("primary_release_year",n),t.searchParams.set("with_genres",e),history.pushState({},"",`${t}`)},isFilter:function(){return t.searchParams.has("primary_release_year")||t.searchParams.has("with_genres")},isSearch:function(){return t.searchParams.has("query")},changePage:function(e){t.searchParams.set("page",+e),history.pushState({},"",`${t}`)},setQuery:function(e){t.searchParams.set("query",e),history.pushState({},"",`${t}`)},getQuery:function(){return t.searchParams.get("query")},getGenre:function(){return t.searchParams.get("with_genres")},getYeare:function(){return t.searchParams.get("primary_release_year")},setFilter:function(e,n){t.searchParams.set("with_genres",e),t.searchParams.set("primary_release_year",n),history.pushState({},"",`${t}`)},getCurrentPage(){var e;return null!==(e=t.searchParams.get("page"))&&void 0!==e?e:1}}}l=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("jEEqz");const v=new c;function p(){const e=document.querySelector("#genre"),t=document.querySelector("#year");v.resetPage(),m().goToFilter(e.value||"all",t.value||"all"),h()}async function h(){try{document.querySelector(".gallery"),document.querySelector(".pagination");g(),v.genreIdFilter=m().getGenre(),v.yearFilter=m().getYeare(),v.pageNumber=+m().getCurrentPage(),genre.value=v.genreIdFilter||"all",year.value=v.yearFilter||"all";const e=await v.fetchMoviesByFilters();e.total_pages<=500?e.total_pages:e.total_pages=500,q(e,v)}catch(e){console.log(e)}}function g(){document.querySelector(".filter__wrap").innerHTML='\n<div class="filter">\n        <p class="filter__text">Find the movies:</p>\n        <ul class="filter__list">\n  <li class="filter__item">\n    <select class="filter__select genre" id="genre" name="genre">\n      <option value="all">Genre: all</option>\n      <option value="28">Action</option>\n      <option value="12">Adventure</option>\n      <option value="16">Animation</option>\n      <option value="35">Comedy</option>\n      <option value="80">Crime</option>\n      <option value="99">Documentary</option>\n      <option value="18">Drama</option>\n      <option value="10751">Family</option>\n      <option value="14">Fantasy</option>\n      <option value="36">History</option>\n      <option value="27">Horror</option>\n      <option value="10402">Music</option>\n      <option value="9648">Mystery</option>\n      <option value="10749">Romance</option>\n      <option value="878">Science Fiction</option>\n      <option value="10770">TV Movie</option>\n      <option value="53">Thriller</option>\n      <option value="10752">War</option>\n      <option value="37">TV Western</option>\n    </select>\n  </li>\n  <li class="filter__item">\n  <select class="filter__select year" id="year" name="year">\n          <option value="all">Year: all</option>\n          <option value="2022">2022</option>\n          <option value="2021">2021</option>\n          <option value="2020">2020</option>\n          <option value="2019">2019</option>\n          <option value="2018">2018</option>\n          <option value="2017">2017</option>\n          <option value="2016">2016</option>\n          <option value="2015">2015</option>\n          <option value="2014">2014</option>\n          <option value="2013">2013</option>\n          <option value="2012">2012</option>\n          <option value="2011">2011</option>\n          <option value="2010">2010</option>\n          <option value="2009">2009</option>\n          <option value="2008">2008</option>\n          <option value="2007">2007</option>\n          <option value="2006">2006</option>\n          <option value="2005">2005</option>\n          <option value="2004">2004</option>\n          <option value="2003">2003</option>\n          <option value="2002">2002</option>\n          <option value="2001">2001</option>\n          <option value="2000">2000</option>\n          <option value="1999">1999</option>\n          <option value="1998">1998</option>\n          <option value="1997">1997</option>\n          <option value="1996">1996</option>\n          <option value="1995">1995</option>\n          <option value="1994">1994</option>\n          <option value="1993">1993</option>\n          <option value="1992">1992</option>\n          <option value="1991">1991</option>\n          <option value="1990">1990</option>\n          <option value="1989">1989</option>\n          <option value="1988">1988</option>\n          <option value="1987">1987</option>\n          <option value="1986">1986</option>\n          <option value="1985">1985</option>\n          <option value="1984">1984</option>\n          <option value="1983">1983</option>\n          <option value="1982">1982</option>\n          <option value="1981">1981</option>\n          <option value="1980">1980</option>\n          <option value="1979">1979</option>\n          <option value="1978">1978</option>\n          <option value="1977">1977</option>\n          <option value="1976">1976</option>\n          <option value="1975">1975</option>\n          <option value="1974">1974</option>\n          <option value="1973">1973</option>\n          <option value="1972">1972</option>\n          <option value="1971">1971</option>\n          <option value="1970">1970</option>\n          <option value="1969">1969</option>\n          <option value="1968">1968</option>\n          <option value="1967">1967</option>\n          <option value="1966">1966</option>\n          <option value="1965">1965</option>\n          <option value="1964">1964</option>\n        </select></li>\n        </ul>        \n        <button class="filter__button"\n  >Clear</button>\n</div>',document.querySelector(".filter").addEventListener("change",p),document.querySelector(".filter button").addEventListener("click",(()=>{m().reset(),y()}))}const _=new c;function f(){m().isSearch()?M():m().isFilter()?h():y()}async function y(){_.pageNumber=+m().getCurrentPage(),g();try{q(await _.fetchTrending(),_)}catch(e){console.log(e)}}var b={markup:'<div id="spiner" class="spiner__holder is-hidden">\n        <div class="lds-spinner">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <p class="spiner__text">Please stand by</p>\n        </div>\n    </div>',getMarkup(){return this.markup},insertIn(e){e.insertAdjacentHTML("beforeend",this.markup)},off(){document.querySelector("#spiner").classList.add("is-hidden")},on(){document.querySelector("#spiner").classList.remove("is-hidden"),setTimeout((()=>{this.off()}),500)},delete(){document.querySelector("#spiner").remove()}};function L(){const e=document.querySelector("header").clientHeight;window.scrollTo({top:e,behavior:"smooth"})}function w(e,t){const n=document.querySelector(".pagination"),i=t.pageNumber,o=e.total_pages;n.innerHTML=d(i,o);document.querySelector(".pagination-list ").addEventListener("click",(function(e){if(e.preventDefault(),+e.target.textContent===i)return;if("next"===e.target.id)return b.on(),t.incrementPage(),m().changePage(t.pageNumber),m().isSearch()?(m().setQuery(t.query),M(),void L()):m().isFilter()?(m().setFilter(t.genre,t.year),h(),void L()):(f(),void L());if("previous"===e.target.id)return b.on(),t.decrementPage(),m().changePage(t.pageNumber),m().isSearch()?(m().setQuery(t.query),M(),void L()):m().isFilter()?(m().setFilter(t.genre,t.year),h(),void L()):(f(),void L());if("..."!==e.target.textContent&&"BUTTON"===e.target.nodeName){if(b.on(),t.pageNumber=+e.target.textContent,m().changePage(t.pageNumber,t.query),m().isSearch())return m().setQuery(t.query),M(),void L();if(m().isFilter())return m().setFilter(t.genre,t.year),h(),void L();f(),L()}}))}function k(){const e=document.querySelector(".notification");e.textContent="Please type something",e.classList.remove("notification--is-hidden"),setTimeout((()=>{e.classList.add("notification--is-hidden"),setTimeout((()=>{e.textContent=""}),300)}),2e3)}function S(){const e=document.querySelector(".notification");e.textContent="No results found",e.classList.remove("notification--is-hidden"),setTimeout((()=>{e.classList.add("notification--is-hidden"),setTimeout((()=>{e.textContent=""}),300)}),2e3)}function E(e,t){const n=1!==e?`Total result for <span class="notification--query">${t}</span> is <span class="notification--query">${e}</span> movies`:`Total result for <span class="notification--query">${t}</span> is <span class="notification--query">${e}</span> movie`,i=document.querySelector(".notification");i.innerHTML=n,i.classList.add("notification--success"),i.classList.remove("notification--is-hidden"),setTimeout((()=>{i.classList.add("notification--is-hidden"),setTimeout((()=>{i.classList.remove("notification--success"),i.innerHTML=""}),300)}),2e3)}async function q(e,t){if(0===e.total_results)return b.off(),S(),void m().reset();const n=e.results;try{const i=await t.fetchGenres(),o=new Map(i.genres.map((e=>[e.id,e.name])));document.querySelector(".gallery").innerHTML=u(n,o),t.searchQuery&&E(e.total_results,t.searchQuery),w(e,t)}catch{}}const x=new c,$=e=>{e.preventDefault();const t=e.currentTarget.elements.searchQuery.value.trim();if(""===t)return e.target.reset(),void k();b.on(),x.resetPage(),m().goToSearch(t),M(),e.target.reset()};async function M(){g(),x.pageNumber=+m().getCurrentPage(),x.query=m().getQuery();try{q(await x.fetchSearchMovie(),x)}catch(e){console.log(e)}}const T=()=>{const e=document.querySelector(".header");e.innerHTML=`<div class="container">\n  <div class="nav-wrap">\n    <a href="#" class="header__logo" id="logoLink">\n     <svg class="header__icon">\n        <use href="${t(s)}#icon-main-logo"></use>\n      </svg>\n      <span class="header__text">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class="nav-list">\n        <li class="nav-list__item">\n          <a\n            class="nav-list__link nav-list__link--current"\n            href="#"\n            id="homeLink"\n            >Home</a\n          >\n        </li>\n        <li class="nav-list__item">\n          <a class="nav-list__link" href="#" id="libraryLink">My library</a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <div class="search-form-wrap">\n    <form class="search-form" id="search-movie">\n      <input\n        class="search-form__input"\n        name="searchQuery"\n        type="text"\n        placeholder="Movie search"\n        autocomplete="off"\n      />\n      <button class="search-form__button-submit" type="submit">\n       <svg width="12" height="12">\n          <use href="${t(s)}#icon-search"></use>\n        </svg>\n      </button>\n    </form>\n  </div>\n  <p class="notification notification--is-hidden"></p>\n  </div>\n`,e.classList.remove("additional-bg");document.getElementById("libraryLink").addEventListener("click",U);document.getElementById("search-movie").addEventListener("submit",$),f()},H=e=>{e.preventDefault(),T()};function I(e){return e.map((({poster_path:e,original_title:t,original_name:n,genres:i,release_date:o,first_air_date:a,vote_average:s,id:r})=>{const c=new Date(o||a).getFullYear(),l=t||n,u=s?s.toFixed(1):"N/A",d=i?i.slice(0,2).map((e=>e.name)):[];(i.length>2||0===i.length)&&d.push("Others");return`<li class="gallery__item card" data-id="${r}">\n          <img\n            class="card__image"\n            src="https://image.tmdb.org/t/p/w500/${e}"\n            alt="poster"\n            loading="lazy"\n          />\n          <div class="card__info" >\n            <p class="card__title">${l}</p>\n            <div class="card__movie-info">\n              <p class="card__genre">${d.join(", ")}</p>\n              <span class="vertical">&nbsp|&nbsp</span>\n              <p class="card__release">${c}</p>\n              <p class="card__rating">${u}</p>\n            </div>\n          </div>\n      </li>`})).join("")}const j="watched-list",F="queue-list",N={getWatchedList(){try{return JSON.parse(localStorage.getItem(j))}catch(e){console.log(e)}},setWatchedList(e){localStorage.setItem(j,JSON.stringify(e))},getQueueList(){try{return JSON.parse(localStorage.getItem(F))}catch(e){console.log(e)}},setQueueList(e){localStorage.setItem(F,JSON.stringify(e))},isWatchedListEmpty(){const e=this.getWatchedList();return!e||0===e.length},isQueueListEmpty(){const e=this.getQueueList();return!e||0===e.length},isMovieInWatchedList(e){if(this.isWatchedListEmpty())return!1;return!!this.getWatchedList().includes(e)},isMovieInQueueList(e){if(this.isQueueListEmpty())return!1;return!!this.getQueueList().includes(e)},addMovieToWatchedList(e){if(this.isWatchedListEmpty())localStorage.setItem(j,JSON.stringify([e]));else{const t=this.getWatchedList();t.push(e),this.setWatchedList(t)}},addMovieToQueueList(e){if(this.isQueueListEmpty())localStorage.setItem(F,JSON.stringify([e]));else{const t=this.getQueueList();t.push(e),this.setQueueList(t)}},removeMovieFromWatchedList(e){const t=this.getWatchedList().filter((t=>t!==e));this.setWatchedList(t)},removeMovieFromQueueList(e){const t=this.getQueueList().filter((t=>t!==e));this.setQueueList(t)},clearWatchedList(){localStorage.removeItem(j)},clearQueueList(){localStorage.removeItem(F)}};var P;function A(e,n=t(P)){e.innerHTML=`<li style="margin: 0 auto;"><img src="${n}"></li>`}function O(e){const t=[];for(let n=0;n<Math.ceil(e.length/20);n+=1){const i=e.slice(20*n,20*n+20);t.push(i)}return t}P=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("2WXp7");const C=new c;function B(){b.on();document.getElementById("js-queue").classList.remove("button-list__btn--current"),document.getElementById("js-watched").classList.add("button-list__btn--current");const e=document.querySelector(".gallery"),t=N.getWatchedList(),n=t?O(t):t;if(N.isWatchedListEmpty()){A(e);return void(document.querySelector(".pagination").innerHTML="")}W(t,C);const i=n[C.pageNumber-1].map((e=>C.fetchMovieDetails(e).catch((e=>console.log(e)))));Promise.all(i).then((t=>{const n=I(t);e.innerHTML=n})).catch((e=>console.log(e)))}function Q(e,t){const n=document.querySelector(".pagination"),i=t.pageNumber;let o=1;if(e.length<=20)return void(n.innerHTML="");e&&(o=e.length>20?Math.ceil(e.length/20):1),n.innerHTML=d(i,o);document.querySelector(".pagination-list ").addEventListener("click",(function(e){if(e.preventDefault(),+e.target.textContent===i)return;if("next"===e.target.id)return b.on(),t.incrementPage(),D(),void L();if("previous"===e.target.id)return b.on(),t.decrementPage(),D(),void L();"..."!==e.target.textContent&&"BUTTON"===e.target.nodeName&&(b.on(),t.pageNumber=+e.target.textContent,D(),L())}))}function W(e,t){const n=document.querySelector(".pagination"),i=t.pageNumber;let o=1;if(e.length<=20)return void(n.innerHTML="");e&&(o=e.length>20?Math.ceil(e.length/20):1),n.innerHTML=d(i,o);document.querySelector(".pagination-list ").addEventListener("click",(function(e){if(e.preventDefault(),+e.target.textContent===i)return;if("next"===e.target.id)return b.on(),t.incrementPage(),B(),void L();if("previous"===e.target.id)return b.on(),t.decrementPage(),B(),void L();"..."!==e.target.textContent&&"BUTTON"===e.target.nodeName&&(b.on(),t.pageNumber=+e.target.textContent,B(),L())}))}const R=new c;function D(){b.on();document.getElementById("js-queue").classList.add("button-list__btn--current"),document.getElementById("js-watched").classList.remove("button-list__btn--current");const e=document.querySelector(".gallery"),t=N.getQueueList(),n=t?O(t):t;if(N.isQueueListEmpty()){A(e);return void(document.querySelector(".pagination").innerHTML="")}Q(t,R);const i=n[R.pageNumber-1].map((e=>R.fetchMovieDetails(e).catch((e=>console.log(e)))));Promise.all(i).then((t=>{const n=I(t);e.innerHTML=n})).catch((e=>console.log(e)))}const V=()=>{const e=document.querySelector(".header");e.innerHTML=`<div class="container">\n  <div class="nav-wrap additional-margin">\n    <a href="#" class="header__logo header__logo--active" id="logoLink">\n      <svg class="header__icon">\n        <use href="${t(s)}#icon-main-logo"></use>\n      </svg>\n      <span class="header__text">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class="nav-list">\n        <li class="nav-list__item">\n          <a class="nav-list__link" href="#" id="homeLink">Home</a>\n        </li>\n        <li class="nav-list__item">\n          <a class="nav-list__link nav-list__link--current" href="#" id="libraryLink"\n            >My library</a\n          >\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <ul class="button-list">\n    <li class="button-list__item">\n      <button class="button-list__btn " type="button" id="js-watched">\n        Watched\n      </button>\n    </li>\n    <li class="button-list__item">\n      <button class="button-list__btn button-list__btn--current" type="button" id="js-queue">Queue</button>\n    </li>\n  </ul>\n  </div>\n`,e.classList.add("additional-bg");document.querySelector(".filter__wrap").innerHTML="";const n=document.getElementById("homeLink"),i=document.getElementById("logoLink"),o=document.getElementById("js-watched"),a=document.getElementById("js-queue");n.addEventListener("click",H),i.addEventListener("click",H),o.addEventListener("click",B),a.addEventListener("click",D)},U=async e=>{try{e.preventDefault(),V(),D()}catch{}},J=document.querySelector("#root"),Y=()=>{const e=`<header class="header">\n  <div class="container">\n  <div class="nav-wrap">\n    <a href="#" class="header__logo" id="logoLink">\n      <svg class="header__icon">\n        <use href="${t(s)}#icon-main-logo"></use>\n      </svg>\n      <span class="header__text">Filmoteka</span>\n    </a>\n    <nav>\n      <ul class="nav-list">\n        <li class="nav-list__item">\n          <a\n            class="nav-list__link nav-list__link--current"\n            href="#"\n            id="homeLink"\n            >Home</a\n          >\n        </li>\n        <li class="nav-list__item">\n          <a class="nav-list__link" href="#" id="libraryLink">My library</a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <div class="search-form-wrap">\n    <form class="search-form" id="search-movie">\n      <input\n        class="search-form__input"\n        name="searchQuery"\n        type="text"\n        placeholder="Movie search"\n        autocomplete="off"\n      />\n      <button class="search-form__button-submit" type="submit">\n        <svg width="12" height="12">\n          <use href="${t(s)}#icon-search"></use>\n        </svg>\n      </button>\n    </form>\n  </div>\n  <p class="notification notification--is-hidden"></p>\n  </div>\n</header>`;J.insertAdjacentHTML("afterbegin",e);document.getElementById("libraryLink").addEventListener("click",U);document.getElementById("search-movie").addEventListener("submit",$)};function z({poster_path:e,genres:n=[],vote_count:i,vote_average:o,original_title:a,popularity:r,title:c,overview:u}){0===u.length&&(u+="Sorry, there is no description for this movie.");const d=n.map((e=>e.name)).join(", "),m=e?`https://image.tmdb.org/t/p/w500/${e}`:`${t(l)}`,v=u.slice(0,1e3);return`<div class="modal">\n        <div class="modal__card">\n         <button class="modal__close" data-action="close-modal"><svg class="modal__close-icon" width="14" height="14">\n        <use href="${t(s)}#icon-close"></use>\n      </svg></button>\n        <div class="modal__content">\n     \n    <button class="modal__btn-play is-hidden"><svg class="modal__play-icon">\n        <use href="${t(s)}#icon-youtube" ></use>\n      </svg></button>\n    <img class="modal__img" src="${m}" alt="cinema" />\n  </div>\n\n  \n    <div class="modal__description-wrap">\n      <h2 class="modal__title">${c}</h2>\n      <table class="modal__info">\n  <tr>\n    <td class="modal__info-key">Vote/votes</td>\n    <td "modal__info-value">\n    <span class="modal__info-value--accent">${o}</span>\n     <span class="modal__info-value--slash">/ </span\n    ><span class="modal__info-value--grey">${i}</span>\n    </td>\n  </tr>\n  <tr>\n    <td class="modal__info-key">Popularity</td>\n    <td "modal__info-value">${r}</td>\n  </tr>\n  <tr>\n    <td class="modal__info-key">Original Title</td>\n    <td "modal__info-value">${a}</td>\n  </tr>\n  <tr>\n    <td class="modal__info-key">Genre</td>\n    <td "modal__info-value">${d}</td>\n  </tr>\n</table>\n    \n      <h3 class="modal__about-title">About</h3>\n      <p class="modal__about-text">\n        ${v}\n      </p>\n      <div class="modal__option">\n        <button class="btn-add-watched" data-action="add-watched">add to Watched</button>\n        <button class="btn-add-queue" data-action="add-queue">add to queue</button>\n      </div>\n    </div>\n    </div>\n  </div>`}function G(e){const n=document.querySelector(".backdrop"),i=document.querySelector(".modal"),o=document.querySelector(".modal__card");if(e.target.classList.contains("modal__btn-play")){const r=e.target.getAttribute("id"),c=(a=r,`<div\n  class ="modal__video is-hidden">\n     <button  class="modal__btn-close-trailer"><svg class="modal__close-icon" width="14" height="14">\n        <use href="${t(s)}#icon-close"></use>\n      </svg></button>\n    <iframe class="video-frame" src="https://www.youtube.com/embed/${a}?autoplay=1"\n    frameborder = '0';\n    title = 'YouTube video player';\n      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"\n      allowfullscreen></iframe></div>`);i.insertAdjacentHTML("afterbegin",c),o.classList.add("is-hidden");document.querySelector(".modal__video").classList.remove("is-hidden"),i.style.backgroundColor="transparent",n.addEventListener("click",X),document.addEventListener("keydown",Z)}var a}function K(){document.querySelector(".modal__video").remove();const e=document.querySelector(".modal__card");document.querySelector(".modal").style.backgroundColor="var(--main-bg)",e.classList.remove("is-hidden");document.querySelector(".backdrop").removeEventListener("click",X),document.removeEventListener("keydown",Z)}function X(e){(e.target.classList.contains("modal__btn-close-trailer")||e.currentTarget===e.target)&&K()}function Z(e){const t=document.querySelector(".modal__card");"Escape"===e.code&&t.classList.contains("is-hidden")&&K()}function ee(e){const t=document.getElementById("libraryLink");if("add-queue"===e.target.dataset.action){const n=document.querySelector(".btn-add-queue"),i=document.querySelector(".btn-add-watched"),o=e.currentTarget.getAttribute("id");if(!N.isMovieInQueueList(o)&&!N.isMovieInWatchedList(o)){if(N.addMovieToQueueList(o),n.classList.toggle("isActive"),n.textContent="delete from queue",t.classList.contains("nav-list__link--current")){document.getElementById("js-queue").classList.contains("button-list__btn--current")&&D()}return}if(N.isMovieInQueueList(o)){if(N.removeMovieFromQueueList(o),n.classList.toggle("isActive"),n.textContent="add to queue",t.classList.contains("nav-list__link--current")){document.getElementById("js-queue").classList.contains("button-list__btn--current")&&D()}return}if(N.isMovieInWatchedList(o)){if(N.removeMovieFromWatchedList(o),i.classList.toggle("isActive"),i.textContent="add to watched",N.addMovieToQueueList(o),n.classList.toggle("isActive"),n.textContent="delete from queue",t.classList.contains("nav-list__link--current")){document.getElementById("js-watched").classList.contains("button-list__btn--current")?B():D()}return}}}function te(e){const t=document.getElementById("libraryLink");if("add-watched"===e.target.dataset.action){const n=document.querySelector(".btn-add-watched"),i=document.querySelector(".btn-add-queue"),o=e.currentTarget.getAttribute("id");if(!N.isMovieInWatchedList(o)&&!N.isMovieInQueueList(o)){if(N.addMovieToWatchedList(o),n.classList.toggle("isActive"),n.textContent="delete from watched",t.classList.contains("nav-list__link--current")){document.getElementById("js-watched").classList.contains("button-list__btn--current")&&B()}return}if(N.isMovieInWatchedList(o)){if(N.removeMovieFromWatchedList(o),n.classList.toggle("isActive"),n.textContent="add to watched",t.classList.contains("nav-list__link--current")){document.getElementById("js-watched").classList.contains("button-list__btn--current")&&B()}return}if(N.isMovieInQueueList(o)){if(N.removeMovieFromQueueList(o),i.classList.toggle("isActive"),i.textContent="add to queue",N.addMovieToWatchedList(o),n.classList.toggle("isActive"),n.textContent="delete from watched",t.classList.contains("nav-list__link--current")){document.getElementById("js-queue").classList.contains("button-list__btn--current")?D():B()}return}}}function ne(){const e=document.querySelector(".backdrop");e.classList.remove("is-hidden"),document.addEventListener("keydown",oe),e.addEventListener("click",ae),e.addEventListener("click",ee),e.addEventListener("click",te),e.addEventListener("click",G),document.body.addEventListener("wheel",se,{passive:!1})}function ie(){const e=document.querySelector(".backdrop");e.classList.add("is-hidden"),document.removeEventListener("keydown",oe),e.removeEventListener("click",ae),e.removeEventListener("click",ee),e.removeEventListener("click",te),e.removeEventListener("click",G),document.body.removeEventListener("wheel",se,{passive:!1})}function oe(e){const t=document.querySelector(".modal__card");"Escape"!==e.code||t.classList.contains("is-hidden")||ie()}function ae(e){const t=document.querySelector(".modal__card");"close-modal"!==e.target.dataset.action||t.classList.contains("is-hidden")||ie(),e.currentTarget!==e.target||t.classList.contains("is-hidden")||ie()}function se(e){return e.preventDefault(),e.stopPropagation(),!1}const re=new c;async function ce(e){document.querySelector(".backdrop").setAttribute("id",e);try{const t=await re.fetchMovieDetails(e),n=await z(t);await function(e){document.querySelector(".backdrop").innerHTML=e}(n)}catch(e){console.log(e)}const t=document.querySelector(".btn-add-queue"),n=document.querySelector(".btn-add-watched");N.isMovieInQueueList(e)&&(t.textContent="delete from queue",t.classList.toggle("isActive")),N.isMovieInWatchedList(e)&&(n.textContent="delete from watched",n.classList.toggle("isActive")),await async function(e){const t=document.querySelector(".modal__btn-play");try{const n=await re.searchTrailerById(e);t.setAttribute("id",n),t.classList.remove("is-hidden")}catch(e){}}(e),ne()}async function le(e){try{let t=document.querySelector(".backdrop");if(t=document.querySelector(".backdrop"),e.target.classList.contains("gallery__item")){const t=e.target.dataset.id;await ce(t)}}catch{}}var ue;ue=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("iiLus");var de;de=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("emfiV");var me;me=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("bERqi");var ve;ve=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("7jpbb");var pe;pe=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("ddqV1");var he;he=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("fto5N");var ge;ge=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("kyKx7");var _e;function fe(e){document.querySelector(".backdrop__team-modal").innerHTML=e}function ye(){let e=document.querySelector(".backdrop__team-modal");e.classList.remove("is-hidden"),document.body.classList.toggle("lock"),document.addEventListener("keydown",Le),document.querySelector(".team-modal__btn-close").addEventListener("click",be),e.addEventListener("click",we),document.body.addEventListener("wheel",ke,{passive:!1})}function be(){let e=document.querySelector(".backdrop__team-modal");e.classList.add("is-hidden"),document.body.classList.toggle("lock"),document.removeEventListener("keydown",Le),e.removeEventListener("click",we),document.body.removeEventListener("wheel",ke,{passive:!1})}function Le(e){"Escape"===e.code&&be()}function we(e){e.currentTarget===e.target&&be()}function ke(e){return e.preventDefault(),e.stopPropagation(),!1}async function Se(){try{const e=await(`<div class="team-modal">\n      <button class="team-modal__btn-close" type="button">\n        <svg width="11" height="11">\n            <use href="${t(s)}#icon-close"></use>\n        </svg>\n      </button>\n      <h2 class="team-modal__title">OUR BEST TEAM OF DEVELOPERS!</h2>\n      <ul class="team-modal__list">\n          <li class="team-modal__card">\n              <img src="${t(ue)}" alt="man Vitaliy">\n          <div class="team-modal__box">\n              <h3 class="team-modal__box-title">Vitaliy Khivrych</h3>\n              <p class="team-modal__text">Team-Lead\n                    <a target="_blank" href="https://github.com/Vitalii-Khivrych">\n                        <svg width="20" height="20">\n                            <use href="${t(s)}#icon-github-logo"></use>\n                        </svg>\n                    </a>\n              </p>\n          </div>\n          </li>\n          <li class="team-modal__card">\n              <img  src="${t(de)}" alt="woman Natalia">\n          <div class="team-modal__box">\n              <h3 class="team-modal__box-title">Natalia Delicheban</h3>\n              <p class="team-modal__text">Scrum-Master\n                        <a target="_blank" href="https://github.com/NataliaDelicheban">\n                            <svg width="20" height="20">\n                                <use href="${t(s)}#icon-github-logo"></use>\n                            </svg>\n                        </a>\n              </p>\n          </div>\n          </li>\n          <li class="team-modal__card">\n              <img src="${t(me)}" alt="man Dima">\n          <div class="team-modal__box">\n              <h3 class="team-modal__box-title">Dima Zharyy</h3>\n              <p class="team-modal__text">Web Developer\n                        <a target="_blank" href="https://github.com/dima-zharyy">\n                            <svg width="20" height="20">\n                                <use href="${t(s)}#icon-github-logo"></use>\n                            </svg>\n                        </a>\n                    </p>\n          </div>\n          </li>\n          <li class="team-modal__card">\n              <img src="${t(ve)}" alt="woman Viktoria">\n          <div class="team-modal__box">\n              <h3 class="team-modal__box-title">Viktoria Fomenko</h3>\n              <p class="team-modal__text">Web Developer\n                        <a target="_blank" href="https://github.com/ViktoriaFomenko">\n                            <svg width="20" height="20">\n                                <use href="${t(s)}#icon-github-logo"></use>\n                            </svg>\n                        </a>\n                    </p>\n          </div>\n          </li>\n          <li class="team-modal__card">\n                  <img src="${t(pe)}" alt="man Igor">\n          <div class="team-modal__box">\n              <h3 class="team-modal__box-title">Igor Smelyanets</h3>\n              <p class="team-modal__text">Web Developer\n                        <a target="_blank" href="https://github.com/IgorSME">\n                            <svg width="20" height="20">\n                                <use href="${t(s)}#icon-github-logo"></use>\n                            </svg>\n                        </a>\n                    </p>\n          </div>\n          </li>\n          <li class="team-modal__card">\n              <img src="${t(he)}" alt="man Samvel">\n          <div class="team-modal__box">\n              <h3 class="team-modal__box-title">Samvel Ogmrtsyan</h3>\n              <p class="team-modal__text">Web Developer\n                        <a target="_blank" href="https://github.com/samvel216">\n                        <svg width="20" height="20">\n                            <use href="${t(s)}#icon-github-logo"></use>\n                        </svg>\n                    </a></p>\n          </div>\n          </li>\n          <li class="team-modal__card">\n                  <img src="${t(ge)}" alt="man Yevhen">\n          <div class="team-modal__box">\n              <h3 class="team-modal__box-title">Yevhen Podoliaka</h3>\n              <p class="team-modal__text">Web Developer\n                        <a target="_blank" href="https://github.com/yevhenpodoliaka">\n                            <svg width="20" height="20">\n                                <use href="${t(s)}#icon-github-logo"></use>\n                            </svg>\n                        </a>\n                    </p>\n          </div>\n          </li>\n          <li class="team-modal__card">\n              <img src="${t(_e)}" alt="man Oleksandr">\n          <div class="team-modal__box">\n              <h3 class="team-modal__box-title">Oleksandr Suprun</h3>\n              <p class="team-modal__text">Web Developer\n                        <a target="_blank" href="https://github.com/parfors">\n                            <svg width="20" height="20">\n                                <use href="${t(s)}#icon-github-logo"></use>\n                            </svg>\n                        </a>\n              </p>\n          </div>\n          </li>\n      </ul>\n    </div>`);await fe(e),ye()}catch(e){console.log(e)}}function Ee(){document.querySelector(".header").scrollIntoView({behavior:"smooth"})}function qe(){if(window.matchMedia("(max-width: 768px)").matches)return;if(document.querySelector(".gallery").childElementCount<2)return;const e=document.querySelector(".scrollup");window.pageYOffset>250?e.style.display="block":e.style.display="none"}_e=a("aNJCr").getBundleURL("EVgbq")+a("iE7OH").resolve("8Lcim");var xe,$e="Expected a function",Me=/^\s+|\s+$/g,Te=/^[-+]0x[0-9a-f]+$/i,He=/^0b[01]+$/i,Ie=/^0o[0-7]+$/i,je=parseInt,Fe="object"==typeof n&&n&&n.Object===Object&&n,Ne="object"==typeof self&&self&&self.Object===Object&&self,Pe=Fe||Ne||Function("return this")(),Ae=Object.prototype.toString,Oe=Math.max,Ce=Math.min,Be=function(){return Pe.Date.now()};function Qe(e,t,n){var i,o,a,s,r,c,l=0,u=!1,d=!1,m=!0;if("function"!=typeof e)throw new TypeError($e);function v(t){var n=i,a=o;return i=o=void 0,l=t,s=e.apply(a,n)}function p(e){return l=e,r=setTimeout(g,t),u?v(e):s}function h(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=a}function g(){var e=Be();if(h(e))return _(e);r=setTimeout(g,function(e){var n=t-(e-c);return d?Ce(n,a-(e-l)):n}(e))}function _(e){return r=void 0,m&&i?v(e):(i=o=void 0,s)}function f(){var e=Be(),n=h(e);if(i=arguments,o=this,c=e,n){if(void 0===r)return p(c);if(d)return r=setTimeout(g,t),v(c)}return void 0===r&&(r=setTimeout(g,t)),s}return t=Re(t)||0,We(n)&&(u=!!n.leading,a=(d="maxWait"in n)?Oe(Re(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m),f.cancel=function(){void 0!==r&&clearTimeout(r),l=0,i=c=o=r=void 0},f.flush=function(){return void 0===r?s:_(Be())},f}function We(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Re(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==Ae.call(e)}(e))return NaN;if(We(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=We(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Me,"");var n=He.test(e);return n||Ie.test(e)?je(e.slice(2),n?2:8):Te.test(e)?NaN:+e}function De(){const e=document.getElementById("root"),n=`<div class="scrollup">\n      <svg class="scrollup__icon">\n        <use href="${t(s)}#icon-arrow"></use>\n      </svg>\n    </div>`;e.insertAdjacentHTML("beforeend",n);document.querySelector(".scrollup").addEventListener("click",Ee),document.addEventListener("scroll",t(xe)(qe,300))}xe=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError($e);return We(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),Qe(e,t,{leading:i,maxWait:t,trailing:o})};const Ve=document.querySelector("#root");document.addEventListener("DOMContentLoaded",(Ve.insertAdjacentHTML("afterend",b.getMarkup()),b.on(),Y(),Ve.insertAdjacentHTML("beforeend",'\n  <main>\n    <section class="section gallery__section">\n    <div class="container">\n    <div class="filter__wrap"></div>\n      \n        <h2 class="gallery__title visually-hidden">Gallery list</h2>\n        <ul class="gallery"></ul>\n        <div class="pagination">\n        \n    </section>\n  </main>'),Ve.insertAdjacentHTML("beforeend",'<footer>\n  <div class="footer__container container">\n    <p class="footer__text">Â© 2022 | All Rights Reserved |</p>\n    <p class="footer__text">\n      Developed with<svg xmlns="http://www.w3.org/2000/svg" id="icon-heart" class="footer__icon" viewBox="0 0 34 32" width="14" height="13">\n      <path\n        d="M17.231 31.705l-2.412-2.412c-8.96-7.926-14.818-13.268-14.818-19.815 0-5.342 4.135-9.477 9.477-9.477 2.929 0 5.858 1.378 7.754 3.618 1.895-2.24 4.825-3.618 7.754-3.618 5.342 0 9.477 4.135 9.477 9.477 0 6.548-5.858 11.889-14.818 19.815l-2.412 2.412z"\n      ></path>\n    </svg>by\n      <button type="button" class="footer__button">GoIT Students</button>\n    </p>\n  </div>\n</footer>'),Ve.insertAdjacentHTML("beforeend",'<div class="backdrop is-hidden"></div>'),Ve.insertAdjacentHTML("beforeend",'<div class="backdrop__team-modal is-hidden"></div>'),void document.querySelector(".footer__button").addEventListener("click",Se),Ve.insertAdjacentHTML("afterbegin",`<div class="theme container">\n    <button class="theme__toggle">\n    <svg class="theme__icon--moon" width="30" height="30">\n          <use href="${t(s)}#icon-moon"></use>\n    </svg>\n    <svg class="theme__icon--sun theme__active" width="30" height="30">\n          <use href="${t(s)}#icon-sun"></use>\n    </svg>\n    </button>\n    </div>`),function(){const e=document.querySelector(".theme__toggle"),t=document.querySelector(".theme__icon--moon"),n=document.querySelector(".theme__icon--sun");let i=document.documentElement;e.addEventListener("click",(()=>{i.hasAttribute("data-theme")?(i.removeAttribute("data-theme"),n.classList.add("theme__active"),t.classList.remove("theme__active"),localStorage.removeItem("theme")):(i.setAttribute("data-theme","dark"),n.classList.remove("theme__active"),t.classList.add("theme__active"),localStorage.setItem("theme","dark"))})),null!==localStorage.getItem("theme")&&(i.setAttribute("data-theme","dark"),n.classList.remove("theme__active"),t.classList.add("theme__active"))}(),document.querySelector(".gallery").addEventListener("click",le),f(),De(),void(m().isSearch()||m().isFilter()||m().reset())),{once:!0})}();
//# sourceMappingURL=index.deed7fd5.js.map
